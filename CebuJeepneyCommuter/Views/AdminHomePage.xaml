<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodel="clr-namespace:CebuJeepneyCommuter.ViewModels"
             x:Class="CebuJeepneyCommuter.Views.AdminHomePage"
             Title="AdminHomePage">

    <ContentPage.BindingContext>
        <viewmodel:AdminHomeViewModel />
        </ContentPage.BindingContext>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <StackLayout Grid.Column="0" 
                     BackgroundColor="LightGray" 
                     Padding="10">
            <Label Text="ADMIN DASHBOARD"
                   TextColor="Black"
                   FontSize="24"
                   FontAttributes="Bold"/>
            <Button Text="Change Minimum Rate" 
                    Clicked="OnChangeMinimumRateClicked"/>
            <Button Text="Create New Route" 
                    Clicked="OnCreateNewRouteClicked"/>
            <Button Text="Log Out" 
                    Clicked="OnLogoutClicked" 
                    Margin="0,20,0,0" 
                    BackgroundColor="Blue" 
                    TextColor="Black"/>
        </StackLayout>

        <!-- Main Content -->
        <StackLayout Grid.Column="1" 
                     Padding="20">
            <!-- Change Minimum Rate View -->
            <ContentView x:Name="MinimumRateView" 
                         IsVisible="True">
                <StackLayout>
                    <Label Text="Change Minimum Rate" 
                           FontSize="24" 
                           FontAttributes="Bold"/>

                    <Label Text="Vehicle Type:"/>
                    <Picker Title="Select Vehicle Type"
                            ItemsSource="{Binding VehicleTypes}"
                            SelectedItem="{Binding SelectedVehicleType}" />

                    <Label Text="Route:"/>
                    <Picker Title="Select Route"
                            ItemsSource="{Binding Routes}"
                            SelectedItem="{Binding SelectedRoute}" />

                    <Label Text="New Minimum Rate:"/>
                    <Entry x:Name="minimumRateEntry" 
                           Placeholder="₱ : " 
                           Keyboard="Numeric"/>

                    <StackLayout Orientation="Horizontal" 
                                 HorizontalOptions="Center" 
                                 Spacing="20" 
                                 Margin="0,20,0,0">
                        <Button Text="Update Rate"/>
                        <Button Text="Cancel"/>
                    </StackLayout>
                </StackLayout>
            </ContentView>

            <!-- Create New Route View -->
            <ContentView x:Name="CreateRouteView" 
                         IsVisible="False">
                <StackLayout>
                    <Label Text="Create New Route"
                           FontSize="24"
                           FontAttributes="Bold" />

                    <Grid ColumnSpacing="10"
                          RowSpacing="15"
                          Margin="0,20,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Route Code -->
                        <Label Text="Route Code:"
                               Grid.Row="0"
                               Grid.Column="0"
                               VerticalTextAlignment="Center"/>
                        <Entry x:Name="routeCodeEntry"
                               Placeholder="Enter Route Code"
                               Grid.Row="0"
                               Grid.Column="1"
                               Grid.ColumnSpan="2"/>

                        <!-- Vehicle Type -->
                        <Label Text="Vehicle Type:"
                               Grid.Row="1"
                               Grid.Column="0"
                               VerticalTextAlignment="Center" />

                        <Picker Title="Select Vehicle"
                                Grid.Row="1"
                                Grid.Column="1"
                                Grid.ColumnSpan="2"
                                ItemsSource="{Binding VehicleTypes}"
                                SelectedItem="{Binding SelectedCreateRouteVehicleType}" />

                        <!-- Stops -->
                        <Label Text="Stops:"
                               Grid.Row="2"
                               Grid.Column="0"
                               VerticalTextAlignment="Center"/>
                        <Picker x:Name="stop1Picker"
                                Title="Start Stop"
                                Grid.Row="2"
                                Grid.Column="1"/>
                        <Picker x:Name="stop2Picker"
                                Title="End Stop"
                                Grid.Row="2"
                                Grid.Column="2"/>
                        <Button Text="Add Stop"
                                Grid.Row="3"
                                Grid.Column="2"/>

                        <!-- Minimum Price -->
                        <Label Text="Minimum Price:"
                               Grid.Row="4"
                               Grid.Column="0"
                               VerticalTextAlignment="Center"/>
                        <Entry x:Name="minimumPriceEntry"
                               Placeholder="₱ :"
                               Keyboard="Numeric"
                               Grid.Row="4"
                               Grid.Column="1"
                               Grid.ColumnSpan="2"/>
                    </Grid>

                    <!-- Buttons -->
                    <StackLayout Orientation="Horizontal"
                                 HorizontalOptions="Center"
                                 Spacing="20"
                                 Margin="0,30,0,0">
                        <Button Text="Save Route"/>
                        <Button Text="Cancel"
                                Clicked="OnChangeMinimumRateClicked"/>
                    </StackLayout>
                </StackLayout>
            </ContentView>
        </StackLayout>
    </Grid>
</ContentPage>
